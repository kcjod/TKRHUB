
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
    integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"
    integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.js"></script>
<script src="/javascripts/script.js"></script>
<script>
    const menuIcon = document.getElementById('menu-icon');
    const dropdownMenu = document.getElementById('dropdown-menu');

    menuIcon.addEventListener('click', function (event) {
        event.preventDefault(); // Prevent the default behavior of the <i> element
        dropdownMenu.classList.toggle('hidden');
    });

    const input = document.querySelector("#Searchinp");
    let clutter = "";
    input.addEventListener("keyup", function () {
        console.log(input.value, '.')
        if (input.value !== "") {
            axios.get(`/username/${input.value}`)
                .then((data) => {
                    if (data.data.length > 0) {
                        clutter = "";
                        data.data.forEach(function (e) {
                            clutter += `
                    <div class="">
                        <div class="w-full flex bg-blue-50 overflow-hidden gap-5 items-center px-5 py-2 rounded-xl" id="elem">
                            <a href="/publicprofile/${e.username}"><div class="overflow-hidden">
                                <img class="w-[30px] object-cover rounded-full cursor-pointer"  src="../images/${e.profileimg}" alt="">    
                            </div></a>
                            <a href="/publicprofile/${e.username}"><div class="cursor-pointer text-semibold">
                                <span>${e.username}</span>
                            </div></a>
                        </div>
                    </div>
                    `
                        })
                    }
                    else {
                        document.querySelector(".searchvals").innerHTML = ""
                    }
                    document.querySelector(".searchvals").innerHTML = clutter;
                })
        }
        else {
            document.querySelector(".searchvals").innerHTML = ""
        }
    });


    // delete dropdown
    const deleteBtns = document.querySelectorAll('.delete');
    const deleteContainer = document.querySelector('#deleteContainer');
    const cancelButton = document.querySelector('#deleteContainer .btns button:first-child');

    deleteBtns.forEach((deleteBtn) => {
        deleteBtn.addEventListener('click', (event) => {
            event.stopPropagation();
            deleteContainer.classList.remove('hidden');
            deleteContainer.classList.add('flex');
        });
    })

    document.addEventListener('click', (event) => {
        const clickedElement = event.target;
        const isDeleteContainer = clickedElement === deleteContainer;
        const isCancelButton = clickedElement === cancelButton;

        if (!isDeleteContainer || !isCancelButton) {
            deleteContainer.classList.remove('flex');
            deleteContainer.classList.add('hidden');
        }
    });

    cancelButton.addEventListener('click', () => {
        deleteContainer.classList.add('hidden');
    });

    function deletePost(id) {
        alert(id);
        console.log('first')
    }


</script>

</body>

</html>